<!DOCTYPE html><html lang="en-us"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=no"><title>v0.20: Faster data reads - FlexMeasures</title><meta name="description" content="Version v0.20 of FlexMeasures brings a major speed improvement when reading times series data, which makes loading graphs much faster than before. Other than that, there are power tools for&hellip;"><meta name="generator" content="Publii Open-Source CMS for Static Site"><link rel="canonical" href="https://flexmeasures.io/020-faster-data-reads/"><link rel="alternate" type="application/atom+xml" href="https://flexmeasures.io/feed.xml"><link rel="alternate" type="application/json" href="https://flexmeasures.io/feed.json"><meta property="og:title" content="v0.20: Faster data reads"><meta property="og:image" content="https://flexmeasures.io/media/posts/39/julian-hochgesang-3-y9vq8uoxk-unsplash.jpg"><meta property="og:image:width" content="6000"><meta property="og:image:height" content="4000"><meta property="og:site_name" content="FlexMeasures"><meta property="og:description" content="Version v0.20 of FlexMeasures brings a major speed improvement when reading times series data, which makes loading graphs much faster than before. Other than that, there are power tools for&hellip;"><meta property="og:url" content="https://flexmeasures.io/020-faster-data-reads/"><meta property="og:type" content="article"><meta name="twitter:card" content="summary"><meta name="twitter:site" content="@seitabv"><meta name="twitter:title" content="v0.20: Faster data reads"><meta name="twitter:description" content="Version v0.20 of FlexMeasures brings a major speed improvement when reading times series data, which makes loading graphs much faster than before. Other than that, there are power tools for&hellip;"><meta name="twitter:image" content="https://flexmeasures.io/media/posts/39/julian-hochgesang-3-y9vq8uoxk-unsplash.jpg"><style>:root{--primary-font:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen,Ubuntu,Cantarell,"Fira Sans","Droid Sans","Helvetica Neue",Arial,sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol";--secondary-font:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen,Ubuntu,Cantarell,"Fira Sans","Droid Sans","Helvetica Neue",Arial,sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol"}</style><link rel="stylesheet" href="https://flexmeasures.io/assets/css/fontawesome-all.min.css?v=dbf9d822cefe851ba6f66e1ad57e8987"><link rel="stylesheet" href="https://flexmeasures.io/assets/css/style.css?v=f294491bf2aaace2c249324545609f9e"><noscript><link rel="stylesheet" href="https://flexmeasures.io/assets/css/noscript.css?v=6228c7eee614cd200a2cad8333b439fa"></noscript><script type="application/ld+json">{"@context":"http://schema.org","@type":"Article","mainEntityOfPage":{"@type":"WebPage","@id":"https://flexmeasures.io/020-faster-data-reads/"},"headline":"v0.20: Faster data reads","datePublished":"2024-03-22T11:00","dateModified":"2025-04-01T18:50","image":{"@type":"ImageObject","url":"https://flexmeasures.io/media/posts/39/julian-hochgesang-3-y9vq8uoxk-unsplash.jpg","height":4000,"width":6000},"description":"Version v0.20 of FlexMeasures brings a major speed improvement when reading times series data, which makes loading graphs much faster than before. Other than that, there are power tools for&hellip;","author":{"@type":"Person","name":"SeitaBV","url":"https://flexmeasures.io/authors/seitabv/"},"publisher":{"@type":"Organization","name":"SeitaBV"}}</script><style>#wrapper > .bg {
               background-image: url(https://flexmeasures.io/assets/images/overlay.png), linear-gradient(0deg, rgba(0, 0, 0, 0.1), rgba(0, 0, 0, 0.1)), url(https://flexmeasures.io/media/website/karsten-wurth-tzkyLKPvL4-unsplash-2.jpg);
           }</style><script>var _paq = window._paq = window._paq || [];
  /* tracker methods like "setCustomDimension" should be called before "trackPageView" */
  _paq.push(['trackPageView']);
  _paq.push(['enableLinkTracking']);
  (function() {
    var u="//matomo.seita.nl/";
    _paq.push(['setTrackerUrl', u+'matomo.php']);
    _paq.push(['setSiteId', '3']);
    var d=document, g=d.createElement('script'), s=d.getElementsByTagName('script')[0];
    g.async=true; g.src=u+'matomo.js'; s.parentNode.insertBefore(g,s);
  })();</script></head><body class="is-preload"><div class="github-ribbon"><a target="_blank" href="https://github.com/FlexMeasures/flexmeasures/">View code on Github</a></div><div id="wrapper"><header id="header"><a class="logo" href="https://flexmeasures.io/">FlexMeasures</a></header><nav id="nav"><ul class="links"><li class="has-submenu"><a href="https://flexmeasures.io/" target="_self" aria-haspopup="true">Why?</a><ul class="nav__submenu level-2" aria-hidden="true"><li><a href="https://flexmeasures.io/plugins/" target="_self">Plugins</a></li><li><a href="https://flexmeasures.io/use-cases/" target="_self">Use cases</a></li><li><a href="https://flexmeasures.io/features-2/" target="_self">Features</a></li><li><a href="https://flexmeasures.io/why-is-the-code-of-flexmeasures-open-for-everyone/" target="_self">Open source</a></li></ul></li><li><a href="https://flexmeasures.io/documentation/" target="_self">Docs</a></li><li><a href="https://flexmeasures.io/tags/blogpost/" target="_self">Blog</a></li><li><a href="https://flexmeasures.io/plugins/" target="_self">Plugins</a></li><li><a href="https://flexmeasures.io/roadmap/" target="_self">Roadmap</a></li><li><a href="https://flexmeasures.io/faq/" target="_self">FAQ</a></li><li><a href="https://flexmeasures.io/get-in-touch/" target="_self">Contact</a></li></ul></nav><main id="main"><article class="post"><header class="major"><time datetime="2024-03-22T11:00" class="date">22 Mar 2024</time><h1>v0.20: Faster data reads</h1><p class="post__inner"></p></header><figure class="image main"><img src="https://flexmeasures.io/media/posts/39/julian-hochgesang-3-y9vq8uoxk-unsplash.jpg" srcset="https://flexmeasures.io/media/posts/39/responsive/julian-hochgesang-3-y9vq8uoxk-unsplash-xs.jpg 300w, https://flexmeasures.io/media/posts/39/responsive/julian-hochgesang-3-y9vq8uoxk-unsplash-sm.jpg 480w, https://flexmeasures.io/media/posts/39/responsive/julian-hochgesang-3-y9vq8uoxk-unsplash-md.jpg 768w, https://flexmeasures.io/media/posts/39/responsive/julian-hochgesang-3-y9vq8uoxk-unsplash-lg.jpg 1024w, https://flexmeasures.io/media/posts/39/responsive/julian-hochgesang-3-y9vq8uoxk-unsplash-xl.jpg 1360w" sizes="(max-width: 1360px) 100vw, 1360px" loading="lazy" height="4000" width="6000" alt="highway with long exposure"><figcaption>highway with long exposure Photo by Julian Hochgesang on Unsplash</figcaption></figure><div class="post__inner post__entry"><div class="post__inner post__entry"><p>Version v0.20 of FlexMeasures brings a major speed improvement when reading times series data, which makes loading graphs much faster than before. Other than that, there are power tools for FlexMeasures hosts, more work on flexibility modelling with dynamic times series data and some smaller fixes and improvements.</p><p><a href="https://flexmeasures.readthedocs.io/latest/changelog.html#v0-20-0-march-26-2024" target="_blank" rel="noopener noreferrer">See the changelog</a> for a complete list. Read on below about the larger new features we added.</p></div><div class="post__inner post__entry"><h2>Speed</h2><p>Loading data has been too slow, which was mostly visible when loading charts in the asset and sensor UIs. We found two issues and addressed both, which has led to a major speed improvement. Loading charts now feels more natural.</p><p>The improvements actually happened in the data model library timely-beliefs at <a href="https://pypi.org/project/timely-beliefs/2.1.0/">version 2.1.0</a>, see PRs <a href="https://github.com/SeitaBV/timely-beliefs/pull/166">here</a> and <a href="https://github.com/SeitaBV/timely-beliefs/pull/167">here</a>. We also have been patched this version into FlexMeasures 0.19.2</p><h2>Power-user tooling for hosts to move assets &amp; data around</h2><p>Hosting FlexMeasures means to manage accounts, their assets and their data. Sometimes you need some powerful tooling to move things.</p><ul><li>We introduce a new command to transfer the ownership of an asset and its children to a different account. Example: <pre class="notranslate"><code class="notranslate">flexmeasures edit transfer-ownership --asset 1 --account 2</code></pre> See Pull Request <a href="http://www.github.com/flexmeasures/flexmeasures/pull/983" target="_blank" rel="noopener noreferrer">983</a>.</li><li>And it is now simple to delete time series data for an entire site (i.e. with child assets) while keeping its structure, including asset and sensor IDs, intact. We added the <code class="notranslate" style="font-weight: var(--font-weight-normal);">--offspring</code><span style="color: var(--text-primary-color); font-family: var(--editor-font-family); font-size: inherit; font-weight: var(--font-weight-normal);"> flag to the command </span><code class="notranslate" style="font-weight: var(--font-weight-normal);">flexmeasures delete beliefs</code><span style="color: var(--text-primary-color); font-family: var(--editor-font-family); font-size: inherit; font-weight: var(--font-weight-normal);"> which will include the beliefs of the offspring assets' sensors to the list of to-be-removed beliefs. See Pull Request </span><a href="http://www.github.com/flexmeasures/flexmeasures/pull/1003" target="_blank" rel="noopener noreferrer" style="font-family: var(--editor-font-family); font-size: inherit; font-weight: var(--font-weight-normal);">1003</a><span style="color: var(--text-primary-color); font-family: var(--editor-font-family); font-size: inherit; font-weight: var(--font-weight-normal);">.</span></li><li>Also, deleting time series data via the CLI command <code class="notranslate" style="font-weight: var(--font-weight-normal);">flexmeasures delete beliefs</code><span style="color: var(--text-primary-color); font-family: var(--editor-font-family); font-size: inherit; font-weight: var(--font-weight-normal);"> </span>is much faster now, too. See Pull Request <a href="http://www.github.com/flexmeasures/flexmeasures/pull/1005" target="_blank" rel="noopener noreferrer">1005</a>.</li></ul><h2>Flex info as sensors</h2>In our <a href="https://github.com/FlexMeasures/flexmeasures/discussions/957">ongoing effort</a> to describe (most of) our <a href="https://flexmeasures.readthedocs.io/en/latest/features/scheduling.html#the-flex-context">flex-model</a> and <a href="https://flexmeasures.readthedocs.io/en/latest/features/scheduling.html#the-flex-context">flex-context</a> in dynamic settings (instead only constant values), we are still plowing ahead:</div><ul><li class="post__inner post__entry">FlexMeasures now supports the <code>site-consumption-capacity</code> and <code>site-production-capacity</code> fields in the flex-context to be sensors (and thus represent time series) - an interesting use case from (Dutch) reality is a contract with the DSO where your capacity is higher for some hours, e.g. during the night. See Pull Request <a href="http://www.github.com/flexmeasures/flexmeasures/pull/985" target="_blank" rel="noopener noreferrer">985</a><span style="color: var(--text-primary-color); font-family: var(--editor-font-family); font-size: inherit; font-weight: var(--font-weight-normal);">. </span><span style="color: var(--text-primary-color); font-family: var(--editor-font-family); font-size: inherit; font-weight: var(--font-weight-normal);">Here is an example:</span><pre class="notranslate">{
    <span class="pl-ent">"flex-context"</span>: {
        <span class="pl-ent">"site-power-capacity"</span>: <span class="pl-s"><span class="pl-pds">"</span>500 kVA<span class="pl-pds">"</span></span>,
        <span class="pl-ent">"site-consumption-capacity"</span>: {<span class="pl-ent">"sensor"</span>: <span class="pl-c1">8</span>},
        <span class="pl-ent">"site-production-capacity"</span>: <span class="pl-s"><span class="pl-pds">"</span>400 kW<span class="pl-pds">"</span></span>,
    }
}</pre></li><li>We added the possibility to define SOC (State of Charge) Targets, SOC Maxima and SOC Minima as sensors. For example: <code><span class="blob-code-inner blob-code-marker js-code-nav-pass" data-code-marker="+"><span class="pl-s">"soc-minima": {"sensor" : 300}</span></span></code> The existing way of defining those (within API calls) is still supported.<br>Why is this useful? Well, these flex-model fields are quite powerful in defining the storage boundaries within which FlexMeasures shall compute the best schedules. Ans these storage boundaries usually come from the user's environment, e.g. as targets for EVs to be charged, comfort-optimized settings for heating or from production planning in an industry setting. Thus, this data is important enough to be stored in its own sensor ― then it can easily be updated from a different data source (e.g. EV logistics system) and be displayed on its own. We believe this makes for a more powerful FlexMeasures :) <br>See Pull Request <a href="http://www.github.com/flexmeasures/flexmeasures/pull/996" target="_blank" rel="noopener noreferrer">996</a><span style="color: var(--text-primary-color); font-family: var(--editor-font-family); font-size: inherit; font-weight: var(--font-weight-normal);">.</span></li></ul><h2>Miscellaneous</h2><p>As we mentioned, there were several smaller but crucial improvements. Some highlights:</p><ul><li>The unit of non-schedulable (inflexible) sensors had to be MW. Now it can be any power unit, e.g. kW, kWh or MWh, which ever you represent it as. FlexMeasures converts the data when reading it from the database and feeding it to the scheduler. See Pull Request <a href="http://www.github.com/flexmeasures/flexmeasures/pull/1007" target="_blank" rel="noopener noreferrer">1007</a>. </li><li>FlexMeasures can now be run on MacOS. There were some package installation troubles. This might be quite crucial for developers on MacOS (although they could have used docker compose). See Pull Request <a href="http://www.github.com/flexmeasures/flexmeasures/pull/1000" target="_blank" rel="noopener noreferrer">1000</a>. </li></ul><p> </p><p> </p></div></article></main><footer id="copyright"><ul><li>© Massively</li><li>Design: <a href="https://html5up.net" target="_blank" rel="nofollow noopener">HTML5 UP</a></li><li>Powered by <a href="https://getpublii.com" target="_blank" rel="nofollow noopener">Publii</a></li><li>Follow updates by <a href="https://flexmeasures.io/feed.xml" title="Our RSS feed" target="_blank" rel="noopener">RSS</a></li></ul></footer></div><script src="https://flexmeasures.io/assets/js/jquery.min.js?v=220afd743d9e9643852e31a135a9f3ae"></script><script src="https://flexmeasures.io/assets/js/jquery.scrollex.min.js?v=f89065e3d988006af9791b44561d7c90"></script><script src="https://flexmeasures.io/assets/js/jquery.scrolly.min.js?v=1ed5a78bde1476875a40f6b9ff44fc14"></script><script src="https://flexmeasures.io/assets/js/browser.min.js?v=c07298dd19048a8a69ad97e754dfe8d0"></script><script src="https://flexmeasures.io/assets/js/breakpoints.min.js?v=81a479eb099e3b187613943b085923b8"></script><script src="https://flexmeasures.io/assets/js/util.min.js?v=4201a626f8c9b614a663b3a1d7d82615"></script><script src="https://flexmeasures.io/assets/js/main.min.js?v=149e72e3ae18744a477b480b19e0c6da"></script><script>/*<![CDATA[*/var images=document.querySelectorAll("img[loading]");for(var i=0;i<images.length;i++){if(images[i].complete){images[i].classList.add("is-loaded")}else{images[i].addEventListener("load",function(){this.classList.add("is-loaded")},false)}};/*]]>*/</script><script type="text/javascript">$('.post__inner:has(.post__iframe)').css('max-width', 'none');</script></body></html>