<!DOCTYPE html><html lang="en-us"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=no"><title>v0.24: more expressive congestion modeling, edit data dashboards - FlexMeasures</title><meta name="description" content="Version v0.24 of FlexMeasures adds more expressive power for behind-the-meter scheduling constraints, and it also lets you design your graph dashboard. And we completed pagination in the UI. This was&hellip;"><meta name="generator" content="Publii Open-Source CMS for Static Site"><link rel="canonical" href="https://flexmeasures.io/024-more-expressive-congestion-modeling-data-dashboards/"><link rel="alternate" type="application/atom+xml" href="https://flexmeasures.io/feed.xml"><link rel="alternate" type="application/json" href="https://flexmeasures.io/feed.json"><meta property="og:title" content="v0.24: more expressive congestion modeling, edit data dashboards"><meta property="og:image" content="https://flexmeasures.io/media/posts/45/v0.24-commitments.drawio.png"><meta property="og:image:width" content="879"><meta property="og:image:height" content="546"><meta property="og:site_name" content="FlexMeasures"><meta property="og:description" content="Version v0.24 of FlexMeasures adds more expressive power for behind-the-meter scheduling constraints, and it also lets you design your graph dashboard. And we completed pagination in the UI. This was&hellip;"><meta property="og:url" content="https://flexmeasures.io/024-more-expressive-congestion-modeling-data-dashboards/"><meta property="og:type" content="article"><meta name="twitter:card" content="summary"><meta name="twitter:site" content="@seitabv"><meta name="twitter:title" content="v0.24: more expressive congestion modeling, edit data dashboards"><meta name="twitter:description" content="Version v0.24 of FlexMeasures adds more expressive power for behind-the-meter scheduling constraints, and it also lets you design your graph dashboard. And we completed pagination in the UI. This was&hellip;"><meta name="twitter:image" content="https://flexmeasures.io/media/posts/45/v0.24-commitments.drawio.png"><style>:root{--primary-font:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen,Ubuntu,Cantarell,"Fira Sans","Droid Sans","Helvetica Neue",Arial,sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol";--secondary-font:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen,Ubuntu,Cantarell,"Fira Sans","Droid Sans","Helvetica Neue",Arial,sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol"}</style><link rel="stylesheet" href="https://flexmeasures.io/assets/css/fontawesome-all.min.css?v=dbf9d822cefe851ba6f66e1ad57e8987"><link rel="stylesheet" href="https://flexmeasures.io/assets/css/style.css?v=f294491bf2aaace2c249324545609f9e"><noscript><link rel="stylesheet" href="https://flexmeasures.io/assets/css/noscript.css?v=6228c7eee614cd200a2cad8333b439fa"></noscript><script type="application/ld+json">{"@context":"http://schema.org","@type":"Article","mainEntityOfPage":{"@type":"WebPage","@id":"https://flexmeasures.io/024-more-expressive-congestion-modeling-data-dashboards/"},"headline":"v0.24: more expressive congestion modeling, edit data dashboards","datePublished":"2025-01-03T14:16","dateModified":"2025-03-22T21:52","image":{"@type":"ImageObject","url":"https://flexmeasures.io/media/posts/45/v0.24-commitments.drawio.png","height":546,"width":879},"description":"Version v0.24 of FlexMeasures adds more expressive power for behind-the-meter scheduling constraints, and it also lets you design your graph dashboard. And we completed pagination in the UI. This was&hellip;","author":{"@type":"Person","name":"SeitaBV","url":"https://flexmeasures.io/authors/seitabv/"},"publisher":{"@type":"Organization","name":"SeitaBV"}}</script><style>#wrapper > .bg {
               background-image: url(https://flexmeasures.io/assets/images/overlay.png), linear-gradient(0deg, rgba(0, 0, 0, 0.1), rgba(0, 0, 0, 0.1)), url(https://flexmeasures.io/media/website/karsten-wurth-tzkyLKPvL4-unsplash-2.jpg);
           }</style><script>var _paq = window._paq = window._paq || [];
  /* tracker methods like "setCustomDimension" should be called before "trackPageView" */
  _paq.push(['trackPageView']);
  _paq.push(['enableLinkTracking']);
  (function() {
    var u="//matomo.seita.nl/";
    _paq.push(['setTrackerUrl', u+'matomo.php']);
    _paq.push(['setSiteId', '3']);
    var d=document, g=d.createElement('script'), s=d.getElementsByTagName('script')[0];
    g.async=true; g.src=u+'matomo.js'; s.parentNode.insertBefore(g,s);
  })();</script></head><body class="is-preload"><div class="github-ribbon"><a target="_blank" href="https://github.com/FlexMeasures/flexmeasures/">View code on Github</a></div><div id="wrapper"><header id="header"><a class="logo" href="https://flexmeasures.io/">FlexMeasures</a></header><nav id="nav"><ul class="links"><li class="has-submenu"><a href="https://flexmeasures.io/" target="_self" aria-haspopup="true">Why?</a><ul class="nav__submenu level-2" aria-hidden="true"><li><a href="https://flexmeasures.io/plugins/" target="_self">Plugins</a></li><li><a href="https://flexmeasures.io/use-cases/" target="_self">Use cases</a></li><li><a href="https://flexmeasures.io/features-2/" target="_self">Features</a></li><li><a href="https://flexmeasures.io/why-is-the-code-of-flexmeasures-open-for-everyone/" target="_self">Open source</a></li></ul></li><li><a href="https://flexmeasures.io/documentation/" target="_self">Docs</a></li><li><a href="https://flexmeasures.io/tags/blogpost/" target="_self">Blog</a></li><li><a href="https://flexmeasures.io/plugins/" target="_self">Plugins</a></li><li><a href="https://flexmeasures.io/roadmap/" target="_self">Roadmap</a></li><li><a href="https://flexmeasures.io/faq/" target="_self">FAQ</a></li><li><a href="https://flexmeasures.io/get-in-touch/" target="_self">Contact</a></li></ul></nav><main id="main"><article class="post"><header class="major"><time datetime="2025-01-03T14:16" class="date">3 Jan 2025</time><h1>v0.24: more expressive congestion modeling, edit data dashboards</h1><p class="post__inner"></p></header><figure class="image main"><img src="https://flexmeasures.io/media/posts/45/v0.24-commitments.drawio.png" srcset="https://flexmeasures.io/media/posts/45/responsive/v0.24-commitments.drawio-xs.png 300w, https://flexmeasures.io/media/posts/45/responsive/v0.24-commitments.drawio-sm.png 480w, https://flexmeasures.io/media/posts/45/responsive/v0.24-commitments.drawio-md.png 768w, https://flexmeasures.io/media/posts/45/responsive/v0.24-commitments.drawio-lg.png 1024w, https://flexmeasures.io/media/posts/45/responsive/v0.24-commitments.drawio-xl.png 1360w" sizes="(max-width: 1360px) 100vw, 1360px" loading="lazy" height="546" width="879" alt="Distribution of power values in EV charging over time"></figure><div class="post__inner post__entry"><div class="post__inner post__entry"><p>Version v0.24 of FlexMeasures adds more expressive power for behind-the-meter scheduling constraints, and it also lets you design your graph dashboard. And we completed pagination in the UI.</p><p>This was actually a larger release (~70 PRs, three new committers). <a href="https://flexmeasures.readthedocs.io/en/latest/changelog.html#v0-24-0-january-06-2025" target="_blank" rel="noopener noreferrer">See the changelog</a> for a complete list.</p><p>Let's dive in!</p></div><div class="post__inner post__entry"><h2>Combine economic modelling options (e.g. peak costs &amp; prices)</h2><p>Behind-the-meter orchestration can become a complex problem, with multiple optimization goals potentially competing. So far, FlexMeasures could model hard constraints (e.g. consumption limit) and an optimization signal, usually a price per kWh. Both of these examples are penalties or rewards for energy commitments, that influence in distinct ways how the FlexMeasures scheduler will optimize the aggregated energy profile of the site.</p><p>But behind the meter, there are more intricate constraints, penalties and rewards, as different parties (e.g. the DSO, the day ahead market operator and the local business) have different ideas about how energy should be used. Especially the modeling of the congestion problem inspired us to extend how FlexMeasures can model the different needs.</p><p>With 0.24, any number of commitments which have their own reward or penalties can be modeled in the same optimization, and the scheduler will try to get the best overall profile.</p><p>This is a big step towards capturing more goals of behind-the-meter orchestration. It was not trivial to model this extension. From here on, FlexMeasures has much more expressive power!</p><p>Here is an example, which is inspired from a situation with a highly congested grid (as we experience in The Netherlands). Note that in the main PR you find a test which models this example, as well). Suppose that within the same optimization of schedules, we want to:</p><ul><li>use a day-ahead tariff for pricing our energy purchasing -&gt; buy low, sell high</li><li>model the DSO costs, as well (the DSO's monthly invoice depends on the highest peak) -&gt; modulate how high peaks get within the contracted capacity</li><li>allow breaching the contracted consumption capacity, but incentivize the scheduler (with a penalty) to attempt avoiding this as much as possible</li></ul><figure class="post__image"><img loading="lazy" src="https://flexmeasures.io/media/posts/45/v0.24-commitments.drawio-2.png" alt="Illustration of possible options for the FlexMeasures scheduler after v0.24 (not exhaustive, e.g. set points are not shown)" width="879" height="546" sizes="(max-width: 48em) 100vw, 768px" srcset="https://flexmeasures.io/media/posts/45/responsive/v0.24-commitments.drawio-2-xs.png 300w, https://flexmeasures.io/media/posts/45/responsive/v0.24-commitments.drawio-2-sm.png 480w, https://flexmeasures.io/media/posts/45/responsive/v0.24-commitments.drawio-2-md.png 768w, https://flexmeasures.io/media/posts/45/responsive/v0.24-commitments.drawio-2-lg.png 1024w, https://flexmeasures.io/media/posts/45/responsive/v0.24-commitments.drawio-2-xl.png 1360w, https://flexmeasures.io/media/posts/45/responsive/v0.24-commitments.drawio-2-2xl.png 1600w"><figcaption></figcaption></figure><p>That last point seems counter-intuitive (allow breaching contracted capacity, but penalize it), but during simulations with different battery sizes, we found it invaluable that the contractual limits are not hard constraints, so we still get the best schedules, even on days where the battery cannot on its own keep the consumption within limits. Note that the <em>physical limits</em> can also be added, and should be hard constraints. </p><p>The scheduler will take all these goals into consideration, using existing and new flex-context fields like <code class="notranslate">site-peak-consumption-price</code>, <code class="notranslate">site-peak-consumption-breach</code>and <code class="docutils literal notranslate"><span class="pre">site-peak-consumption</span></code> (check <a href="https://flexmeasures.readthedocs.io/en/latest/features/scheduling.html#the-flex-context" target="_blank" rel="noopener noreferrer">the documentation</a> for details).</p><p>Note that after the fact, the actual reporting of costs can represent what will actually be invoiced, e.g. energy purchasing (dynamic tariff) and peak costs by the DSO, but not the penalty used to avoid peak breaches.</p><p>This work was done in Pull Requests <a href="https://github.com/FlexMeasures/flexmeasures/pull/1144" target="_blank" rel="noopener noreferrer">1144</a> and <a href="https://github.com/FlexMeasures/flexmeasures/pull/1254" target="_blank" rel="noopener noreferrer">1254</a>.</p><h2>Editing your own graph dashboard in the UI</h2><p>The asset page is where FlexMeasures shows you data (measurements, schedules, etc) in graphs. As your use cases and sites differ, your needs for this graph dashboard will differ. Previously, it was possible to configure different graphs and plots, but it required editing a JSON field. As of version 0.24, you can edit what you want to see right in the UI:</p><figure class="post__image post__image--center"><img loading="lazy" src="https://flexmeasures.io/media/posts/45/screenshot-asset-editgraph.png" alt="Editing the graph dashboard" width="750" height="550" sizes="(max-width: 48em) 100vw, 768px" srcset="https://flexmeasures.io/media/posts/45/responsive/screenshot-asset-editgraph-xs.png 300w, https://flexmeasures.io/media/posts/45/responsive/screenshot-asset-editgraph-sm.png 480w, https://flexmeasures.io/media/posts/45/responsive/screenshot-asset-editgraph-md.png 768w, https://flexmeasures.io/media/posts/45/responsive/screenshot-asset-editgraph-lg.png 1024w, https://flexmeasures.io/media/posts/45/responsive/screenshot-asset-editgraph-xl.png 1360w, https://flexmeasures.io/media/posts/45/responsive/screenshot-asset-editgraph-2xl.png 1600w"></figure><p>This work was done in Pull Requests <a href="https://github.com/FlexMeasures/flexmeasures/pull/1212" target="_blank" rel="noopener noreferrer">1212</a>, <a href="https://github.com/FlexMeasures/flexmeasures/pull/1145" target="_blank" rel="noopener noreferrer">1145</a> and <a href="https://github.com/FlexMeasures/flexmeasures/pull/1152" target="_blank" rel="noopener noreferrer">1152</a>.</p><h2>More pagination in UI for faster browsing</h2><p>When a lot of data is being shown, FlexMeasures' pages could get slow. In <a href="https://flexmeasures.io/023-data-insights-and-white-labelling/">v0.23</a>, we already started adding pagination parameters to API endpoints for assets and users. This now includes also accounts and audit logs, and we finished our work on all FlexMeasures UI pages, so that they now only load small batches of entries at a time.</p><p>This work was done in Pull Requests <a href="https://github.com/FlexMeasures/flexmeasures/pull/1115" target="_blank" rel="noopener noreferrer">1115</a>, <a href="https://github.com/FlexMeasures/flexmeasures/pull/1116" target="_blank" rel="noopener noreferrer">1116</a>, <a href="https://github.com/FlexMeasures/flexmeasures/pull/1143" target="_blank" rel="noopener noreferrer">1143</a>, <a href="https://github.com/FlexMeasures/flexmeasures/pull/1201" target="_blank" rel="noopener noreferrer">1201</a>, <a href="https://github.com/FlexMeasures/flexmeasures/pull/1274" target="_blank" rel="noopener noreferrer">1274</a> and <a href="https://github.com/FlexMeasures/flexmeasures/pull/1282" target="_blank" rel="noopener noreferrer">1282</a>.</p></div></div></article></main><footer id="copyright"><ul><li>© Massively</li><li>Design: <a href="https://html5up.net" target="_blank" rel="nofollow noopener">HTML5 UP</a></li><li>Powered by <a href="https://getpublii.com" target="_blank" rel="nofollow noopener">Publii</a></li><li>Follow updates by <a href="https://flexmeasures.io/feed.xml" title="Our RSS feed" target="_blank" rel="noopener">RSS</a></li></ul></footer></div><script src="https://flexmeasures.io/assets/js/jquery.min.js?v=220afd743d9e9643852e31a135a9f3ae"></script><script src="https://flexmeasures.io/assets/js/jquery.scrollex.min.js?v=f89065e3d988006af9791b44561d7c90"></script><script src="https://flexmeasures.io/assets/js/jquery.scrolly.min.js?v=1ed5a78bde1476875a40f6b9ff44fc14"></script><script src="https://flexmeasures.io/assets/js/browser.min.js?v=c07298dd19048a8a69ad97e754dfe8d0"></script><script src="https://flexmeasures.io/assets/js/breakpoints.min.js?v=81a479eb099e3b187613943b085923b8"></script><script src="https://flexmeasures.io/assets/js/util.min.js?v=4201a626f8c9b614a663b3a1d7d82615"></script><script src="https://flexmeasures.io/assets/js/main.min.js?v=149e72e3ae18744a477b480b19e0c6da"></script><script>/*<![CDATA[*/var images=document.querySelectorAll("img[loading]");for(var i=0;i<images.length;i++){if(images[i].complete){images[i].classList.add("is-loaded")}else{images[i].addEventListener("load",function(){this.classList.add("is-loaded")},false)}};/*]]>*/</script><script type="text/javascript">$('.post__inner:has(.post__iframe)').css('max-width', 'none');</script></body></html>