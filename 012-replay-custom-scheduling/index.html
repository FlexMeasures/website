<!DOCTYPE html><html lang="en-us"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=no"><title>v0.12: Replay, custom scheduling - FlexMeasures</title><meta name="description" content="Version v0.12 of FlexMeasures adds a cool re-play feature and support for adding custom scheduling algorithms! Actually, this release is a big one with many small improvements, e.g. the CLI&hellip;"><meta name="generator" content="Publii Open-Source CMS for Static Site"><link rel="canonical" href="https://flexmeasures.io/012-replay-custom-scheduling/"><link rel="alternate" type="application/atom+xml" href="https://flexmeasures.io/feed.xml"><link rel="alternate" type="application/json" href="https://flexmeasures.io/feed.json"><meta property="og:title" content="v0.12: Replay, custom scheduling"><meta property="og:image" content="https://flexmeasures.io/media/posts/27/replay-button.png"><meta property="og:image:width" content="105"><meta property="og:image:height" content="76"><meta property="og:site_name" content="FlexMeasures"><meta property="og:description" content="Version v0.12 of FlexMeasures adds a cool re-play feature and support for adding custom scheduling algorithms! Actually, this release is a big one with many small improvements, e.g. the CLI&hellip;"><meta property="og:url" content="https://flexmeasures.io/012-replay-custom-scheduling/"><meta property="og:type" content="article"><meta name="twitter:card" content="summary"><meta name="twitter:site" content="@seitabv"><meta name="twitter:title" content="v0.12: Replay, custom scheduling"><meta name="twitter:description" content="Version v0.12 of FlexMeasures adds a cool re-play feature and support for adding custom scheduling algorithms! Actually, this release is a big one with many small improvements, e.g. the CLI&hellip;"><meta name="twitter:image" content="https://flexmeasures.io/media/posts/27/replay-button.png"><style>:root{--primary-font:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen,Ubuntu,Cantarell,"Fira Sans","Droid Sans","Helvetica Neue",Arial,sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol";--secondary-font:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen,Ubuntu,Cantarell,"Fira Sans","Droid Sans","Helvetica Neue",Arial,sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol"}</style><link rel="stylesheet" href="https://flexmeasures.io/assets/css/fontawesome-all.min.css?v=dbf9d822cefe851ba6f66e1ad57e8987"><link rel="stylesheet" href="https://flexmeasures.io/assets/css/style.css?v=f294491bf2aaace2c249324545609f9e"><noscript><link rel="stylesheet" href="https://flexmeasures.io/assets/css/noscript.css?v=6228c7eee614cd200a2cad8333b439fa"></noscript><script type="application/ld+json">{"@context":"http://schema.org","@type":"Article","mainEntityOfPage":{"@type":"WebPage","@id":"https://flexmeasures.io/012-replay-custom-scheduling/"},"headline":"v0.12: Replay, custom scheduling","datePublished":"2023-01-04T17:17","dateModified":"2023-01-04T17:17","image":{"@type":"ImageObject","url":"https://flexmeasures.io/media/posts/27/replay-button.png","height":76,"width":105},"description":"Version v0.12 of FlexMeasures adds a cool re-play feature and support for adding custom scheduling algorithms! Actually, this release is a big one with many small improvements, e.g. the CLI&hellip;","author":{"@type":"Person","name":"SeitaBV","url":"https://flexmeasures.io/authors/seitabv/"},"publisher":{"@type":"Organization","name":"SeitaBV"}}</script><style>#wrapper > .bg {
               background-image: url(https://flexmeasures.io/assets/images/overlay.png), linear-gradient(0deg, rgba(0, 0, 0, 0.1), rgba(0, 0, 0, 0.1)), url(https://flexmeasures.io/media/website/karsten-wurth-tzkyLKPvL4-unsplash-2.jpg);
           }</style><script>var _paq = window._paq = window._paq || [];
  /* tracker methods like "setCustomDimension" should be called before "trackPageView" */
  _paq.push(['trackPageView']);
  _paq.push(['enableLinkTracking']);
  (function() {
    var u="//matomo.seita.nl/";
    _paq.push(['setTrackerUrl', u+'matomo.php']);
    _paq.push(['setSiteId', '3']);
    var d=document, g=d.createElement('script'), s=d.getElementsByTagName('script')[0];
    g.async=true; g.src=u+'matomo.js'; s.parentNode.insertBefore(g,s);
  })();</script></head><body class="is-preload"><div class="github-ribbon"><a target="_blank" href="https://github.com/FlexMeasures/flexmeasures/">View code on Github</a></div><div id="wrapper"><header id="header"><a class="logo" href="https://flexmeasures.io/">FlexMeasures</a></header><nav id="nav"><ul class="links"><li class="has-submenu"><a href="https://flexmeasures.io/" target="_self" aria-haspopup="true">Why?</a><ul class="nav__submenu level-2" aria-hidden="true"><li><a href="https://flexmeasures.io/plugins/" target="_self">Plugins</a></li><li><a href="https://flexmeasures.io/use-cases/" target="_self">Use cases</a></li><li><a href="https://flexmeasures.io/features-2/" target="_self">Features</a></li><li><a href="https://flexmeasures.io/why-is-the-code-of-flexmeasures-open-for-everyone/" target="_self">Open source</a></li></ul></li><li><a href="https://flexmeasures.io/documentation/" target="_self">Docs</a></li><li><a href="https://flexmeasures.io/tags/blogpost/" target="_self">Blog</a></li><li><a href="https://flexmeasures.io/plugins/" target="_self">Plugins</a></li><li><a href="https://flexmeasures.io/roadmap/" target="_self">Roadmap</a></li><li><a href="https://flexmeasures.io/faq/" target="_self">FAQ</a></li><li><a href="https://flexmeasures.io/get-in-touch/" target="_self">Contact</a></li></ul></nav><main id="main"><article class="post"><header class="major"><time datetime="2023-01-04T17:17" class="date">4 Jan 2023</time><h1>v0.12: Replay, custom scheduling</h1><p class="post__inner"></p></header><figure class="image main"><img src="https://flexmeasures.io/media/posts/27/replay-button.png" srcset="https://flexmeasures.io/media/posts/27/responsive/replay-button-xs.png 300w, https://flexmeasures.io/media/posts/27/responsive/replay-button-sm.png 480w, https://flexmeasures.io/media/posts/27/responsive/replay-button-md.png 768w, https://flexmeasures.io/media/posts/27/responsive/replay-button-lg.png 1024w, https://flexmeasures.io/media/posts/27/responsive/replay-button-xl.png 1360w" sizes="(max-width: 1360px) 100vw, 1360px" loading="lazy" height="76" width="105" alt="Playback button"></figure><div class="post__inner post__entry"><p>Version v0.12 of FlexMeasures adds a cool re-play feature and support for adding custom scheduling algorithms!</p><p>Actually, this release is a big one with many small improvements, e.g. the CLI for data ingestions have taken a big leap.</p><p><a href="https://flexmeasures.readthedocs.io/en/latest/changelog.html#v0-11-0-august-28-2022" target="_blank" rel="noopener noreferrer">See changelog</a> or read on below to read what we added.</p><h2>Replay</h2><p>FlexMeasures shines in keeping track <em>what was known at what time</em>. In both simulations and real time operation, we found that our partners want to see how the data situation progressed over time.</p><p>That's why we decided to add a replay-button to asset dashboards. It travels through time for you: </p><figure class="post__image"><img loading="lazy" src="https://flexmeasures.io/media/posts/27/ReplayWithRuler.gif" alt="Visualization of FlexMeasures data" width="1257" height="868"><figcaption>Data from Seita's V2G living lab, played back in FlexMeasures</figcaption></figure><p><span style="color: var(--text-primary-color); font-family: var(--editor-font-family); font-size: inherit; font-weight: var(--font-weight-normal);">Where is this useful? We've seen this work very well in demos, and to explain why certain schedules were executed half-way, but then the rest got re-written. This happens because when new data arrives (e.g. prices change, an EV re-connects to the charger, etc.), FlexMeasures needs to re-compute the schedule. </span></p><p><span style="color: var(--text-primary-color); font-family: var(--editor-font-family); font-size: inherit; font-weight: var(--font-weight-normal);">This <a href="https://twitter.com/flexmeasures/status/1551841500815695875" target="_blank" rel="noopener noreferrer">has been in the works</a> for a long time, and now finally released. This work was done in Pull Request </span><a href="http://www.github.com/SeitaBV/flexmeasures/pull/463" target="_blank" rel="noopener noreferrer">463</a><span style="color: var(--text-primary-color); font-family: var(--editor-font-family); font-size: inherit; font-weight: var(--font-weight-normal);">.</span></p><h2>Custom scheduling</h2><p>To schedule flexible assets is the main premise of FlexMeasures. More concretely, the mission of FlexMeasures is to drastically cut down the development time on any flexibility solution, no matter if an in-built scheduler already is applicable.</p><p>Together with the plugin support released in <a href="https://flexmeasures.io/070-professional-plugins/">v0.7</a>, this release comes with support for people writing their own schedulers.</p><p>This is relevant to researchers and startups who are innovating in the realm of algorithms, but still would like to save development time (and use FlexMeasures as a framework and web application in which to embed their logic).</p><p>We will use this internally as well, as it makes any new project easier. Usually, we don't work on new schedulers in the open ― we prefer to iterate in a plugin first. If the result is great, then it'll enter FlexMeasures core.</p><p>Up until now, schedulers were an internal feature, accessible by an API, but focused on storage flexibility for the main part (we worked on shiftable flexibility in other projects). Opening a core feature up for other use cases is really helpful to arrive at a better design. We've completely refactored how schedulers are implemented and how to give them the necessary information (the <code>flex-model</code> and the <code>flex-context</code>), and we're very excited how this will empower our own work and that of FlexMeasures users.</p><p><span style="color: var(--text-primary-color); font-family: var(--editor-font-family); font-size: inherit; font-weight: var(--font-weight-normal);">The <a href="https://flexmeasures.readthedocs.io/en/latest/plugin/customisation.html#adding-your-own-scheduling-algorithm" target="_blank" rel="noopener noreferrer">plugin developer tutorial</a> and <a href="https://flexmeasures.readthedocs.io/en/latest/api/notation.html#describing-flexibility" target="_blank" rel="noopener noreferrer">this part of the API notation docs</a> tell you more.</span></p><p>This work was done in Pull Requests <a href="http://www.github.com/SeitaBV/flexmeasures/pull/505">505</a>, <a href="http://www.github.com/SeitaBV/flexmeasures/pull/511">511,</a> <a href="http://www.github.com/SeitaBV/flexmeasures/pull/537">537</a>,  <a href="http://www.github.com/SeitaBV/flexmeasures/pull/568">568</a> and <a href="http://www.github.com/SeitaBV/flexmeasures/pull/566">566</a>.</p><h2>Ingesting data on the CLI</h2><p>Almost every project involves getting some historical data read in (e.g. from CSV or Excel files), be it because one uses FlexMeasures to run simulations, or to have a base data set for machine learning purposes (e.g. a forecasting algorithm). This is tough and iterative engineering work.</p><p>FlexMeasures has CLI support for this (<code>flexmeasures add beliefs</code>). We tackled several issues to make this work even more developer-friendly:</p><ol><li>drop duplicate records with warning</li><li>allow configuring which column contains explicit recording times for each data point (use case: import forecasts) </li><li>localize timezone naive data</li><li>support reading in datetime and timedelta values</li><li>remove rows with NaN values</li><li>filter by values in specific columns</li></ol><p>We also improved its counterpart, <code class="docutils literal notranslate"><span class="pre">flexmeasures</span> <span class="pre">show</span> <span class="pre">beliefs</span></code>. We now support:</p><ol><li>showing beliefs data in a custom resolution and/or timezone</li><li>saving the shown beliefs data to a CSV file</li><li>handle showing (and saving) instantaneous sensor data and non-instantaneous sensor data together</li></ol><p>This work was done in Pull Requests <a href="http://www.github.com/SeitaBV/flexmeasures/pull/501">501</a>, <a href="http://www.github.com/SeitaBV/flexmeasures/pull/521" target="_blank" rel="noopener noreferrer">521</a>, <a href="http://www.github.com/SeitaBV/flexmeasures/pull/519" target="_blank" rel="noopener noreferrer">519</a> and <a href="http://www.github.com/SeitaBV/flexmeasures/pull/542" target="null">542</a>.</p><p> </p></div></article></main><footer id="copyright"><ul><li>© Massively</li><li>Design: <a href="https://html5up.net" target="_blank" rel="nofollow noopener">HTML5 UP</a></li><li>Powered by <a href="https://getpublii.com" target="_blank" rel="nofollow noopener">Publii</a></li><li>Follow updates by <a href="https://flexmeasures.io/feed.xml" title="Our RSS feed" target="_blank" rel="noopener">RSS</a></li></ul></footer></div><script src="https://flexmeasures.io/assets/js/jquery.min.js?v=220afd743d9e9643852e31a135a9f3ae"></script><script src="https://flexmeasures.io/assets/js/jquery.scrollex.min.js?v=f89065e3d988006af9791b44561d7c90"></script><script src="https://flexmeasures.io/assets/js/jquery.scrolly.min.js?v=1ed5a78bde1476875a40f6b9ff44fc14"></script><script src="https://flexmeasures.io/assets/js/browser.min.js?v=c07298dd19048a8a69ad97e754dfe8d0"></script><script src="https://flexmeasures.io/assets/js/breakpoints.min.js?v=81a479eb099e3b187613943b085923b8"></script><script src="https://flexmeasures.io/assets/js/util.min.js?v=4201a626f8c9b614a663b3a1d7d82615"></script><script src="https://flexmeasures.io/assets/js/main.min.js?v=149e72e3ae18744a477b480b19e0c6da"></script><script>/*<![CDATA[*/var images=document.querySelectorAll("img[loading]");for(var i=0;i<images.length;i++){if(images[i].complete){images[i].classList.add("is-loaded")}else{images[i].addEventListener("load",function(){this.classList.add("is-loaded")},false)}};/*]]>*/</script><script type="text/javascript">$('.post__inner:has(.post__iframe)').css('max-width', 'none');</script></body></html>