<!DOCTYPE html><html lang="en-us"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=no"><title>v0.27: multi-asset scheduling &amp; 2FA - FlexMeasures</title><meta name="description" content="Version v0.27 of FlexMeasures brings a long-overdue feature: ability to schedule multiple flexible assets in one go üëØ. Also, a major step towards modern cyber-security üîê standards: two-factor authentication. And&hellip;"><meta name="generator" content="Publii Open-Source CMS for Static Site"><link rel="canonical" href="https://flexmeasures.io/v027-multi-asset-and-2fa/"><link rel="alternate" type="application/atom+xml" href="https://flexmeasures.io/feed.xml"><link rel="alternate" type="application/json" href="https://flexmeasures.io/feed.json"><meta property="og:title" content="v0.27: multi-asset scheduling & 2FA"><meta property="og:image" content="https://flexmeasures.io/media/posts/50/Screenshot-from-2025-07-14-18-03-02.png"><meta property="og:image:width" content="193"><meta property="og:image:height" content="144"><meta property="og:site_name" content="FlexMeasures"><meta property="og:description" content="Version v0.27 of FlexMeasures brings a long-overdue feature: ability to schedule multiple flexible assets in one go üëØ. Also, a major step towards modern cyber-security üîê standards: two-factor authentication. And&hellip;"><meta property="og:url" content="https://flexmeasures.io/v027-multi-asset-and-2fa/"><meta property="og:type" content="article"><meta name="twitter:card" content="summary"><meta name="twitter:site" content="@seitabv"><meta name="twitter:title" content="v0.27: multi-asset scheduling & 2FA"><meta name="twitter:description" content="Version v0.27 of FlexMeasures brings a long-overdue feature: ability to schedule multiple flexible assets in one go üëØ. Also, a major step towards modern cyber-security üîê standards: two-factor authentication. And&hellip;"><meta name="twitter:image" content="https://flexmeasures.io/media/posts/50/Screenshot-from-2025-07-14-18-03-02.png"><style>:root{--primary-font:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen,Ubuntu,Cantarell,"Fira Sans","Droid Sans","Helvetica Neue",Arial,sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol";--secondary-font:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen,Ubuntu,Cantarell,"Fira Sans","Droid Sans","Helvetica Neue",Arial,sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol"}</style><link rel="stylesheet" href="https://flexmeasures.io/assets/css/fontawesome-all.min.css?v=dbf9d822cefe851ba6f66e1ad57e8987"><link rel="stylesheet" href="https://flexmeasures.io/assets/css/style.css?v=f294491bf2aaace2c249324545609f9e"><noscript><link rel="stylesheet" href="https://flexmeasures.io/assets/css/noscript.css?v=6228c7eee614cd200a2cad8333b439fa"></noscript><script type="application/ld+json">{"@context":"http://schema.org","@type":"Article","mainEntityOfPage":{"@type":"WebPage","@id":"https://flexmeasures.io/v027-multi-asset-and-2fa/"},"headline":"v0.27: multi-asset scheduling & 2FA","datePublished":"2025-07-14T16:50","dateModified":"2025-07-20T17:41","image":{"@type":"ImageObject","url":"https://flexmeasures.io/media/posts/50/Screenshot-from-2025-07-14-18-03-02.png","height":144,"width":193},"description":"Version v0.27 of FlexMeasures brings a long-overdue feature: ability to schedule multiple flexible assets in one go üëØ. Also, a major step towards modern cyber-security üîê standards: two-factor authentication. And&hellip;","author":{"@type":"Person","name":"SeitaBV","url":"https://flexmeasures.io/authors/seitabv/"},"publisher":{"@type":"Organization","name":"SeitaBV"}}</script><style>#wrapper > .bg {
               background-image: url(https://flexmeasures.io/assets/images/overlay.png), linear-gradient(0deg, rgba(0, 0, 0, 0.1), rgba(0, 0, 0, 0.1)), url(https://flexmeasures.io/media/website/karsten-wurth-tzkyLKPvL4-unsplash-2.jpg);
           }</style><script>var _paq = window._paq = window._paq || [];
  /* tracker methods like "setCustomDimension" should be called before "trackPageView" */
  _paq.push(['trackPageView']);
  _paq.push(['enableLinkTracking']);
  (function() {
    var u="//matomo.seita.nl/";
    _paq.push(['setTrackerUrl', u+'matomo.php']);
    _paq.push(['setSiteId', '3']);
    var d=document, g=d.createElement('script'), s=d.getElementsByTagName('script')[0];
    g.async=true; g.src=u+'matomo.js'; s.parentNode.insertBefore(g,s);
  })();</script></head><body class="is-preload"><div class="github-ribbon"><a target="_blank" href="https://github.com/FlexMeasures/flexmeasures/">View code on Github</a></div><div id="wrapper"><header id="header"><a class="logo" href="https://flexmeasures.io/">FlexMeasures</a></header><nav id="nav"><ul class="links"><li class="has-submenu"><a href="https://flexmeasures.io/" target="_self" aria-haspopup="true">Why?</a><ul class="nav__submenu level-2" aria-hidden="true"><li><a href="https://flexmeasures.io/plugins/" target="_self">Plugins</a></li><li><a href="https://flexmeasures.io/use-cases/" target="_self">Use cases</a></li><li><a href="https://flexmeasures.io/features-2/" target="_self">Features</a></li><li><a href="https://flexmeasures.io/why-is-the-code-of-flexmeasures-open-for-everyone/" target="_self">Open source</a></li></ul></li><li><a href="https://flexmeasures.io/documentation/" target="_self">Docs</a></li><li><a href="https://flexmeasures.io/tags/blogpost/" target="_self">Blog</a></li><li><a href="https://flexmeasures.io/plugins/" target="_self">Plugins</a></li><li><a href="https://flexmeasures.io/roadmap/" target="_self">Roadmap</a></li><li><a href="https://flexmeasures.io/faq/" target="_self">FAQ</a></li><li><a href="https://flexmeasures.io/get-in-touch/" target="_self">Contact</a></li></ul></nav><main id="main"><article class="post"><header class="major"><time datetime="2025-07-14T16:50" class="date">14 Jul 2025</time><h1>v0.27: multi-asset scheduling &amp; 2FA</h1><p class="post__inner"></p></header><figure class="image main"><img src="https://flexmeasures.io/media/posts/50/Screenshot-from-2025-07-14-18-03-02.png" srcset="https://flexmeasures.io/media/posts/50/responsive/Screenshot-from-2025-07-14-18-03-02-xs.png 300w, https://flexmeasures.io/media/posts/50/responsive/Screenshot-from-2025-07-14-18-03-02-sm.png 480w, https://flexmeasures.io/media/posts/50/responsive/Screenshot-from-2025-07-14-18-03-02-md.png 768w, https://flexmeasures.io/media/posts/50/responsive/Screenshot-from-2025-07-14-18-03-02-lg.png 1024w, https://flexmeasures.io/media/posts/50/responsive/Screenshot-from-2025-07-14-18-03-02-xl.png 1360w" sizes="(max-width: 1360px) 100vw, 1360px" loading="lazy" height="144" width="193" alt="Snippet from the 2FA form"><figcaption>Snippet from the 2FA form</figcaption></figure><div class="post__inner post__entry"><div class="post__inner post__entry"><p>Version v0.27 of FlexMeasures brings a long-overdue feature: ability to schedule multiple flexible assets in one go üëØ. Also, a major step towards modern cyber-security üîê standards: two-factor authentication.</p><p>And there is even more: upload data per file, edit users, ...</p><p><a href="https://flexmeasures.readthedocs.io/latest/changelog.html#v0-27-0-july-16-2025" target="_blank" rel="noopener noreferrer">See the changelog</a> for a complete list of improvements (&gt;40 PRs!).</p><p>Let's dive int the two main features!</p></div><div class="post__inner post__entry"><h2>Multi-asset scheduling</h2><p>Until now, you can tell FlexMeasures to find an optimal schedule for a device (e.g. a battery). We already have used FlexMeasures to schedule sites with more than one flexible device (e.g. also EVs), but with one caveat: we scheduled one flexible device after the other (sequentially - we'll add a short explanation below).</p><p>Anyway, we were lacking an endpoint to run one simultaneuous optimization for a combined schedule, and after several preparation steps and testing in the last few months, we added <a href="https://flexmeasures.readthedocs.io/latest/api/v3_0.html#post--api-v3_0-assets-(id)-schedules-trigger">this one</a>:</p><p><code><span class="sig-name descname"><span class="pre">POST</span> </span><span class="sig-name descname"><span class="pre">/api/v3_0/assets/</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">id</span></em><span class="sig-paren">)</span><span class="sig-name descname"><span class="pre">/schedules/trigger</span></span></code></p><p>"Trigger FlexMeasures to create a schedule for a collection of flexible and inflexible devices."</p><p>Of course, we stay true to the ambition that each device can be steered so that the schedule fits its unique constraints, and thus telling FlexMeasures about the flex-models can look like this:</p><pre id="codecell6"><span class="p">{</span>
    <span class="nt">"start"</span><span class="p">:</span> <span class="s2">"2015-06-02T10:00:00+00:00"</span><span class="p">,</span>
    <span class="nt">"flex-model"</span><span class="p">:</span> <span class="p">[</span>
        <span class="p">{</span>
            <span class="nt">"sensor"</span><span class="p">:</span> <span class="mi">931</span><span class="p">,</span>
            <span class="nt">"soc-at-start"</span><span class="p">:</span> <span class="mf">12.1</span><span class="p">,</span>
            <span class="nt">"soc-unit"</span><span class="p">:</span> <span class="s2">"kWh"</span><span class="p">,</span>
            <span class="nt">"power-capacity"</span><span class="p">:</span> <span class="s2">"25kW"</span><span class="p">,</span>
            <span class="nt">"consumption-capacity"</span> <span class="p">:</span> <span class="p">{</span><span class="nt">"sensor"</span><span class="p">:</span> <span class="mi">42</span><span class="p">},</span>
            <span class="nt">"production-capacity"</span> <span class="p">:</span> <span class="s2">"30 kW"</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="nt">"sensor"</span><span class="p">:</span> <span class="mi">932</span><span class="p">,</span>
            <span class="nt">"consumption-capacity"</span><span class="p">:</span> <span class="s2">"0 kW"</span><span class="p">,</span>
            <span class="nt">"production-capacity"</span><span class="p">:</span> <span class="p">{</span><span class="nt">"sensor"</span><span class="p">:</span> <span class="mi">760</span><span class="p">},</span>
        <span class="p">}</span>
    <span class="p">],</span>
    <span class="nt">"flex-context"</span><span class="p">:</span> <span class="p">{</span>
        <span class="nt">"consumption-price-sensor"</span><span class="p">:</span> <span class="mi">9</span><span class="p">,</span>
        <span class="nt">"production-price-sensor"</span><span class="p">:</span> <span class="mi">10</span><span class="p">,</span>
        <span class="nt">"inflexible-device-sensors"</span><span class="p">:</span> <span class="p">[</span><span class="mi">13</span><span class="p">,</span> <span class="mi">14</span><span class="p">,</span> <span class="mi">15</span><span class="p">],</span>
        <span class="nt">"site-power-capacity"</span><span class="p">:</span> <span class="s2">"100kW"</span><span class="p">,</span>
        <span class="nt">"site-production-capacity"</span><span class="p">:</span> <span class="s2">"80kW"</span><span class="p">,</span>
        <span class="nt">"site-consumption-capacity"</span><span class="p">:</span> <span class="p">{</span><span class="nt">"sensor"</span><span class="p">:</span> <span class="mi">32</span><span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span></pre><p>This is for two devices (see the endpoint docs for more explanation of this example). For more flexible devices, the body becomes longer.¬† Luckily, we are also working on letting you specify all flex-model fields on the asset data models (for flex-context, that already is the case).¬†</p><p>We are really happy that this finally is in place. This work was done in Pull Request <a href="https://github.com/FlexMeasures/flexmeasures/pull/1065" target="_blank" rel="noopener noreferrer">1065</a> , but actually you'll find preparation steps going back more than 6 months.¬†</p><p>Now, how does "sequential" scheduling work? After each device we scheduled, we were adding the already scheduled ones to the list of inflexible devices, so the next schedule would take them into account. This approach might scale better with a large number of devices, but we found that the new simultaneous approach also works well with ~100 devices. However, it is still an interesting approach, so the new endpoint offers it, as well (just pass<code class="docutils literal notranslate"><span class="pre">sequential=true</span></code>).</p><h2>Two-factor authentication</h2><p>Cyber-security is more and more crucial when running a serious service - and that is what we aim FlexMeasures to be.</p><p>That means we had to increase the level of security. A lot of that happens in anybody's cloud environment, but FlexMeasures itself needs to also be hardened.¬†</p><p>So version 0.27 adds Two-factor Authentication, the mechanism where only one factor (your password) is not enough to log into the service. In this first implementation, users need a separate token, as well, which is sent to their email address. We can expand this to support QR codes (for security apps) or SMS.</p><figure><figure class="post__image post__image--center"><img loading="lazy" src="https://flexmeasures.io/media/posts/50/Screenshot-from-2025-07-20-17-40-40.png" alt="Second login step if 2FA is enabled - form for the 2nd factor code" width="500" height="528" sizes="(max-width: 48em) 100vw, 768px" srcset="https://flexmeasures.io/media/posts/50/responsive/Screenshot-from-2025-07-20-17-40-40-xs.png 300w, https://flexmeasures.io/media/posts/50/responsive/Screenshot-from-2025-07-20-17-40-40-sm.png 480w, https://flexmeasures.io/media/posts/50/responsive/Screenshot-from-2025-07-20-17-40-40-md.png 768w, https://flexmeasures.io/media/posts/50/responsive/Screenshot-from-2025-07-20-17-40-40-lg.png 1024w, https://flexmeasures.io/media/posts/50/responsive/Screenshot-from-2025-07-20-17-40-40-xl.png 1360w, https://flexmeasures.io/media/posts/50/responsive/Screenshot-from-2025-07-20-17-40-40-2xl.png 1600w"></figure><figcaption>Second login step if 2FA is enabled - form for the 2nd factor code</figcaption></figure><p>¬†</p><p>TFA is off by default, so anyone hosting FlexMeasures should <a href="https://flexmeasures.readthedocs.io/latest/host/installation.html#two-factor-authentication">consider turning it on</a>.</p><p>This work was done in Pull Requests <a href="https://github.com/FlexMeasures/flexmeasures/pull/1555" target="_blank" rel="noopener noreferrer">1555</a>,<a href="https://github.com/FlexMeasures/flexmeasures/pull/1562" target="_blank" rel="noopener noreferrer">¬†1562</a> and<a href="https://github.com/FlexMeasures/flexmeasures/pull/1564" target="_blank" rel="noopener noreferrer">¬†1564</a>.</p><p>A final note on security in FlexMeasures: we take this seriously on a few fronts: We are upgrading our dependencies with every minor version, we use GitHub's Dependabot and are now starting to scan its code regularly for any potential issues.</p><h2>Upload data</h2><p>To get any data into FlexMeasures, you needed to use the API or CLI. Now there is another way: Sometimes, all you need is to get data from a file into the platform (e.g. to add history for forecasting, or tomorrow's prices). And this is possible now:</p><h2><figure class="post__image post__image--center"><img loading="lazy" src="https://flexmeasures.io/media/posts/50/Screenshot-from-2025-07-14-17-57-04.png" alt="Upload form on the sensor page" width="336" height="385" sizes="(max-width: 48em) 100vw, 768px" srcset="https://flexmeasures.io/media/posts/50/responsive/Screenshot-from-2025-07-14-17-57-04-xs.png 300w, https://flexmeasures.io/media/posts/50/responsive/Screenshot-from-2025-07-14-17-57-04-sm.png 480w, https://flexmeasures.io/media/posts/50/responsive/Screenshot-from-2025-07-14-17-57-04-md.png 768w, https://flexmeasures.io/media/posts/50/responsive/Screenshot-from-2025-07-14-17-57-04-lg.png 1024w, https://flexmeasures.io/media/posts/50/responsive/Screenshot-from-2025-07-14-17-57-04-xl.png 1360w, https://flexmeasures.io/media/posts/50/responsive/Screenshot-from-2025-07-14-17-57-04-2xl.png 1600w"></figure>User editing</h2><p>User editing was possible via the API, but the UI was missing. We finally got around to do this. Now you can even add/remove roles:</p><figure class="post__image post__image--center"><img loading="lazy" src="https://flexmeasures.io/media/posts/50/Screenshot-from-2025-07-14-15-56-17.png" alt="Editing a user in the UI" width="650" height="516" sizes="(max-width: 48em) 100vw, 768px" srcset="https://flexmeasures.io/media/posts/50/responsive/Screenshot-from-2025-07-14-15-56-17-xs.png 300w, https://flexmeasures.io/media/posts/50/responsive/Screenshot-from-2025-07-14-15-56-17-sm.png 480w, https://flexmeasures.io/media/posts/50/responsive/Screenshot-from-2025-07-14-15-56-17-md.png 768w, https://flexmeasures.io/media/posts/50/responsive/Screenshot-from-2025-07-14-15-56-17-lg.png 1024w, https://flexmeasures.io/media/posts/50/responsive/Screenshot-from-2025-07-14-15-56-17-xl.png 1360w, https://flexmeasures.io/media/posts/50/responsive/Screenshot-from-2025-07-14-15-56-17-2xl.png 1600w"></figure></div></div></article></main><footer id="copyright"><ul><li>¬© Massively</li><li>Design: <a href="https://html5up.net" target="_blank" rel="nofollow noopener">HTML5 UP</a></li><li>Powered by <a href="https://getpublii.com" target="_blank" rel="nofollow noopener">Publii</a></li><li>Follow updates by <a href="https://flexmeasures.io/feed.xml" title="Our RSS feed" target="_blank" rel="noopener">RSS</a></li></ul></footer></div><script src="https://flexmeasures.io/assets/js/jquery.min.js?v=220afd743d9e9643852e31a135a9f3ae"></script><script src="https://flexmeasures.io/assets/js/jquery.scrollex.min.js?v=f89065e3d988006af9791b44561d7c90"></script><script src="https://flexmeasures.io/assets/js/jquery.scrolly.min.js?v=1ed5a78bde1476875a40f6b9ff44fc14"></script><script src="https://flexmeasures.io/assets/js/browser.min.js?v=c07298dd19048a8a69ad97e754dfe8d0"></script><script src="https://flexmeasures.io/assets/js/breakpoints.min.js?v=81a479eb099e3b187613943b085923b8"></script><script src="https://flexmeasures.io/assets/js/util.min.js?v=4201a626f8c9b614a663b3a1d7d82615"></script><script src="https://flexmeasures.io/assets/js/main.min.js?v=149e72e3ae18744a477b480b19e0c6da"></script><script>/*<![CDATA[*/var images=document.querySelectorAll("img[loading]");for(var i=0;i<images.length;i++){if(images[i].complete){images[i].classList.add("is-loaded")}else{images[i].addEventListener("load",function(){this.classList.add("is-loaded")},false)}};/*]]>*/</script><script type="text/javascript">$('.post__inner:has(.post__iframe)').css('max-width', 'none');</script></body></html>