<!DOCTYPE html><html lang="en-us"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=no"><title>v0.23: data insights &amp; white-labelling - FlexMeasures</title><meta name="description" content="Version v0.23 of FlexMeasures adds more data insights on the sensor page, so you can understand faster what datasets you are working on. We also added white-labelling, so you can&hellip;"><meta name="generator" content="Publii Open-Source CMS for Static Site"><link rel="canonical" href="https://flexmeasures.io/023-data-insights-and-white-labelling/"><link rel="alternate" type="application/atom+xml" href="https://flexmeasures.io/feed.xml"><link rel="alternate" type="application/json" href="https://flexmeasures.io/feed.json"><meta property="og:title" content="v0.23: data insights & white-labelling"><meta property="og:image" content="https://flexmeasures.io/media/posts/43/histogram-visualisation-2.png"><meta property="og:image:width" content="1201"><meta property="og:image:height" content="439"><meta property="og:site_name" content="FlexMeasures"><meta property="og:description" content="Version v0.23 of FlexMeasures adds more data insights on the sensor page, so you can understand faster what datasets you are working on. We also added white-labelling, so you can&hellip;"><meta property="og:url" content="https://flexmeasures.io/023-data-insights-and-white-labelling/"><meta property="og:type" content="article"><meta name="twitter:card" content="summary"><meta name="twitter:site" content="@seitabv"><meta name="twitter:title" content="v0.23: data insights & white-labelling"><meta name="twitter:description" content="Version v0.23 of FlexMeasures adds more data insights on the sensor page, so you can understand faster what datasets you are working on. We also added white-labelling, so you can&hellip;"><meta name="twitter:image" content="https://flexmeasures.io/media/posts/43/histogram-visualisation-2.png"><style>:root{--primary-font:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen,Ubuntu,Cantarell,"Fira Sans","Droid Sans","Helvetica Neue",Arial,sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol";--secondary-font:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen,Ubuntu,Cantarell,"Fira Sans","Droid Sans","Helvetica Neue",Arial,sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol"}</style><link rel="stylesheet" href="https://flexmeasures.io/assets/css/fontawesome-all.min.css?v=dbf9d822cefe851ba6f66e1ad57e8987"><link rel="stylesheet" href="https://flexmeasures.io/assets/css/style.css?v=f294491bf2aaace2c249324545609f9e"><noscript><link rel="stylesheet" href="https://flexmeasures.io/assets/css/noscript.css?v=6228c7eee614cd200a2cad8333b439fa"></noscript><script type="application/ld+json">{"@context":"http://schema.org","@type":"Article","mainEntityOfPage":{"@type":"WebPage","@id":"https://flexmeasures.io/023-data-insights-and-white-labelling/"},"headline":"v0.23: data insights & white-labelling","datePublished":"2024-09-17T16:08","dateModified":"2025-04-01T18:50","image":{"@type":"ImageObject","url":"https://flexmeasures.io/media/posts/43/histogram-visualisation-2.png","height":439,"width":1201},"description":"Version v0.23 of FlexMeasures adds more data insights on the sensor page, so you can understand faster what datasets you are working on. We also added white-labelling, so you can&hellip;","author":{"@type":"Person","name":"SeitaBV","url":"https://flexmeasures.io/authors/seitabv/"},"publisher":{"@type":"Organization","name":"SeitaBV"}}</script><style>#wrapper > .bg {
               background-image: url(https://flexmeasures.io/assets/images/overlay.png), linear-gradient(0deg, rgba(0, 0, 0, 0.1), rgba(0, 0, 0, 0.1)), url(https://flexmeasures.io/media/website/karsten-wurth-tzkyLKPvL4-unsplash-2.jpg);
           }</style><script>var _paq = window._paq = window._paq || [];
  /* tracker methods like "setCustomDimension" should be called before "trackPageView" */
  _paq.push(['trackPageView']);
  _paq.push(['enableLinkTracking']);
  (function() {
    var u="//matomo.seita.nl/";
    _paq.push(['setTrackerUrl', u+'matomo.php']);
    _paq.push(['setSiteId', '3']);
    var d=document, g=d.createElement('script'), s=d.getElementsByTagName('script')[0];
    g.async=true; g.src=u+'matomo.js'; s.parentNode.insertBefore(g,s);
  })();</script></head><body class="is-preload"><div class="github-ribbon"><a target="_blank" href="https://github.com/FlexMeasures/flexmeasures/">View code on Github</a></div><div id="wrapper"><header id="header"><a class="logo" href="https://flexmeasures.io/">FlexMeasures</a></header><nav id="nav"><ul class="links"><li class="has-submenu"><a href="https://flexmeasures.io/" target="_self" aria-haspopup="true">Why?</a><ul class="nav__submenu level-2" aria-hidden="true"><li><a href="https://flexmeasures.io/plugins/" target="_self">Plugins</a></li><li><a href="https://flexmeasures.io/use-cases/" target="_self">Use cases</a></li><li><a href="https://flexmeasures.io/features-2/" target="_self">Features</a></li><li><a href="https://flexmeasures.io/why-is-the-code-of-flexmeasures-open-for-everyone/" target="_self">Open source</a></li></ul></li><li><a href="https://flexmeasures.io/documentation/" target="_self">Docs</a></li><li><a href="https://flexmeasures.io/tags/blogpost/" target="_self">Blog</a></li><li><a href="https://flexmeasures.io/plugins/" target="_self">Plugins</a></li><li><a href="https://flexmeasures.io/roadmap/" target="_self">Roadmap</a></li><li><a href="https://flexmeasures.io/faq/" target="_self">FAQ</a></li><li><a href="https://flexmeasures.io/get-in-touch/" target="_self">Contact</a></li></ul></nav><main id="main"><article class="post"><header class="major"><time datetime="2024-09-17T16:08" class="date">17 Sep 2024</time><h1>v0.23: data insights &amp; white-labelling</h1><p class="post__inner"></p></header><figure class="image main"><img src="https://flexmeasures.io/media/posts/43/histogram-visualisation-2.png" srcset="https://flexmeasures.io/media/posts/43/responsive/histogram-visualisation-2-xs.png 300w, https://flexmeasures.io/media/posts/43/responsive/histogram-visualisation-2-sm.png 480w, https://flexmeasures.io/media/posts/43/responsive/histogram-visualisation-2-md.png 768w, https://flexmeasures.io/media/posts/43/responsive/histogram-visualisation-2-lg.png 1024w, https://flexmeasures.io/media/posts/43/responsive/histogram-visualisation-2-xl.png 1360w" sizes="(max-width: 1360px) 100vw, 1360px" loading="lazy" height="439" width="1201" alt="Distribution of power values in EV charging over time"><figcaption>Screenshot of Nissan Leaf V2G setup of Aard Jonker</figcaption></figure><div class="post__inner post__entry"><div class="post__inner post__entry"><p>Version v0.23 of FlexMeasures adds more data insights on the sensor page, so you can understand faster what datasets you are working on. We also added white-labelling, so you can automatically style the UI in the branding of customers. Finally, the flex-context and flex-model are (still) growing more powerful in terms of expressing dynamic information.</p><p>This was actually a lager release. For anything else, <a href="https://flexmeasures.readthedocs.io/latest/changelog.html#v0-23-0-september-18-2024" target="_blank" rel="noopener noreferrer">see the changelog</a> for a complete list.</p><p>Let's dive in!</p></div><div class="post__inner post__entry"><h2>Data insights on the sensor page</h2><p>The data sets each sensor stores are what sits beneath the scheduling. If the data has low quality, so will your schedules. We saw in projects how true this is, and wanted to show ourselves and customers quickly what actually is stored in a sensor.</p><p>We made two crucial additions to the sensor page in FlexMeasures.<br><br>First, we now summarise what the sensor is about (sensor properties), and what data you find (statistics):</p><figure class="post__image post__image--center"><img loading="lazy" src="https://flexmeasures.io/media/posts/43/Sensor-properties-stats.png" alt="" width="850" height="350" sizes="(max-width: 48em) 100vw, 768px" srcset="https://flexmeasures.io/media/posts/43/responsive/Sensor-properties-stats-xs.png 300w, https://flexmeasures.io/media/posts/43/responsive/Sensor-properties-stats-sm.png 480w, https://flexmeasures.io/media/posts/43/responsive/Sensor-properties-stats-md.png 768w, https://flexmeasures.io/media/posts/43/responsive/Sensor-properties-stats-lg.png 1024w, https://flexmeasures.io/media/posts/43/responsive/Sensor-properties-stats-xl.png 1360w, https://flexmeasures.io/media/posts/43/responsive/Sensor-properties-stats-2xl.png 1600w"></figure>Because on any sensor, we store data from different sources, the statistics are available per source!<p></p><p>Second, we added a histogram. Sometimes, that is the best way to understand what values you can find in general:</p><figure class="post__image post__image--center"><img loading="lazy" src="https://flexmeasures.io/media/posts/43/histogram-visualisation.png" alt="" width="850" height="311" sizes="(max-width: 48em) 100vw, 768px" srcset="https://flexmeasures.io/media/posts/43/responsive/histogram-visualisation-xs.png 300w, https://flexmeasures.io/media/posts/43/responsive/histogram-visualisation-sm.png 480w, https://flexmeasures.io/media/posts/43/responsive/histogram-visualisation-md.png 768w, https://flexmeasures.io/media/posts/43/responsive/histogram-visualisation-lg.png 1024w, https://flexmeasures.io/media/posts/43/responsive/histogram-visualisation-xl.png 1360w, https://flexmeasures.io/media/posts/43/responsive/histogram-visualisation-2xl.png 1600w"></figure>We already had two visualizations - bar chart and heat map. With this third one, it was time to make the "Select Chart" option more prominent (it moved out of the daterange selector).<p></p><p>This work was done in Pull Requests <a href="https://github.com/FlexMeasures/flexmeasures/pull/1115" target="_blank" rel="noopener noreferrer">1115</a>, <a href="https://github.com/FlexMeasures/flexmeasures/pull/1116" target="_blank" rel="noopener noreferrer">1116</a>, <a href="https://github.com/FlexMeasures/flexmeasures/pull/1143" target="_blank" rel="noopener noreferrer">1143</a> and <a href="https://github.com/FlexMeasures/flexmeasures/pull/1148" target="_blank" rel="noopener noreferrer">1148</a>.</p><h2>White-labelling</h2><p>We have partners who want to present schedules and reports in FlexMeasures' UI, even if we are hosting FlexMeasures for them. They would love to brand the UI in their colors and logo.</p><p>For this, we added the ability to set primary and secondary colors for each account, as well as a logo URL. Here is a simple (not necessarily beautiful) impression of how FlexMeasures' UI will adapt:</p><figure class="post__image post__image--center"><img loading="lazy" src="https://flexmeasures.io/media/posts/43/1920-1080-max.png" alt="" width="850" height="107" sizes="(max-width: 48em) 100vw, 768px" srcset="https://flexmeasures.io/media/posts/43/responsive/1920-1080-max-xs.png 300w, https://flexmeasures.io/media/posts/43/responsive/1920-1080-max-sm.png 480w, https://flexmeasures.io/media/posts/43/responsive/1920-1080-max-md.png 768w, https://flexmeasures.io/media/posts/43/responsive/1920-1080-max-lg.png 1024w, https://flexmeasures.io/media/posts/43/responsive/1920-1080-max-xl.png 1360w, https://flexmeasures.io/media/posts/43/responsive/1920-1080-max-2xl.png 1600w"></figure><p>This also brings the ability to edit account settings (like the name).</p><p>This work was done in Pull Requests <a href="https://github.com/FlexMeasures/flexmeasures/pull/1137" target="_blank" rel="noopener noreferrer">1137</a>, <a href="https://github.com/FlexMeasures/flexmeasures/pull/1145" target="_blank" rel="noopener noreferrer">1145</a> and <a href="https://github.com/FlexMeasures/flexmeasures/pull/1152" target="_blank" rel="noopener noreferrer">1152</a>.</p><h2>More expressive flex-context and flex-model</h2><p>Within FlexMeasures, the <a href="https://flexmeasures.readthedocs.io/en/latest/features/scheduling.html#the-flex-context">flex-context</a> is crucial: it tells us site-relevant parameters such as pricing and grid capacity limits. The flex-model is evenly important: it tells us about the situation on the ground (e.g. current state of charge, limits to it, set points, ...).</p><p>Expressing these is thus a regular task when modelling a site in FlexMeasures and asking it for schedules. That should be developer-friendly and powerful. E.g. a site constraint can be a static kW value, but also point to a sensor, where the different capacities per time of day are recorded.</p><p>In v0.23, we made substantial progress on both goals.</p><p>We merged existing approaches in a single schema, <code class="notranslate">VariableQuantityField</code> (we also made sure we remain backwards-compatible for a while).</p><p>Now, across all of flex-context and flex-model, there are different ways to tell FlexMeasures about the optimization problem:</p><ul dir="auto"><li>As a constant quantity, such as:<div class="snippet-clipboard-content notranslate position-relative overflow-auto"><pre class="notranslate"><code class="notranslate">"10 kW"
</code></pre><div class="zeroclipboard-container position-absolute right-0 top-0">Note that the unit is part of the message. This is the most direct &amp; easy way.<br><br></div></div></li><li>As a time series, such as:<div class="snippet-clipboard-content notranslate position-relative overflow-auto"><pre class="notranslate"><code class="notranslate">[
    {
        "value": 51,
        "start": "2024-02-04T10:35:00+01:00",
        "end": "2024-02-05T04:25:00+01:00"
    }
]
</code></pre><div class="zeroclipboard-container position-absolute right-0 top-0">This is making it easy to describe temporary blocks, e.g. a few hours where the state of charge should not go below a certain value. <br>(NB this example assumes the unit is specified via a separate field).<br><br></div></div></li><li>As a sensor, such as:<div class="snippet-clipboard-content notranslate position-relative overflow-auto"><pre class="notranslate"><code class="notranslate">{
    "sensor": 101
}</code><code class="notranslate"></code></pre></div></li></ul></div><p>In the last example, the data's meta information (such as units) is stored in the sensor objects, and the data is looked up via the sensor table. This is best for highly dynamic data, e.g. prices loaded by a third-party API.</p><p>This work was done in Pull Requests <a href="https://github.com/FlexMeasures/flexmeasures/pull/1127" target="_blank" rel="noopener noreferrer">1127</a> and <a href="https://github.com/FlexMeasures/flexmeasures/pull/1152" target="_blank" rel="noopener noreferrer">1138</a>.</p><p>One more thing in this domain: We can also now express prices as fixed quantities - they were always modelled as series before. Sometimes that is what is needed to test a control strategy. See Pull Request <a href="https://github.com/FlexMeasures/flexmeasures/issues/1028" target="_blank" rel="noopener noreferrer">1028</a>.</p><h2>Faster asset &amp; account page</h2><p>When a lot of accounts and assets are added, we noticed that FlexMeasures took too ling for admins to load the complete lists. We addressed some speed bumps and also added pagination in the asset API and UI, so that the user experience improves.</p><p>See Pull Request <a href="https://github.com/FlexMeasures/flexmeasures/issues/988" target="_blank" rel="noopener noreferrer">988</a>.</p><h2>Adding titles to graphs</h2><p>The graphs on the asset page are the go-to place for watching schedules next to the underlying data. Basically, there we find the data dashboard in FlexMeasures. <a href="https://flexmeasures.readthedocs.io/en/latest/views/asset-data.html#the-asset-page-as-data-dashboard" target="_blank" rel="noopener noreferrer">The sensor_to_show attribute</a> which directs the setup of this dashbaord became more powerful. </p><figure class="post__image post__image--center"><img loading="lazy" src="https://flexmeasures.io/media/posts/43/Screenshot-from-2024-09-17-17-11-47.png" alt="" width="850" height="540" sizes="(max-width: 48em) 100vw, 768px" srcset="https://flexmeasures.io/media/posts/43/responsive/Screenshot-from-2024-09-17-17-11-47-xs.png 300w, https://flexmeasures.io/media/posts/43/responsive/Screenshot-from-2024-09-17-17-11-47-sm.png 480w, https://flexmeasures.io/media/posts/43/responsive/Screenshot-from-2024-09-17-17-11-47-md.png 768w, https://flexmeasures.io/media/posts/43/responsive/Screenshot-from-2024-09-17-17-11-47-lg.png 1024w, https://flexmeasures.io/media/posts/43/responsive/Screenshot-from-2024-09-17-17-11-47-xl.png 1360w, https://flexmeasures.io/media/posts/43/responsive/Screenshot-from-2024-09-17-17-11-47-2xl.png 1600w"></figure>The image above now not only shows the plots (with one or two sensor each), but has titles for two plots, and this is the configuration for that:<br><br><code>"sensors_to_show":[</code><br><code>    {"title": "Prices", "sensors":[58, 70]},</code><br><code>    16,</code><br><code>    {"title": "Battery activity", "sensors": [5, 4]},</code><br><code>    15</code><br><code>]</code><p></p><p>See Pull Request <a href="https://github.com/FlexMeasures/flexmeasures/issues/1125" target="_blank" rel="noopener noreferrer">1125</a>.</p></div></article></main><footer id="copyright"><ul><li>© Massively</li><li>Design: <a href="https://html5up.net" target="_blank" rel="nofollow noopener">HTML5 UP</a></li><li>Powered by <a href="https://getpublii.com" target="_blank" rel="nofollow noopener">Publii</a></li><li>Follow updates by <a href="https://flexmeasures.io/feed.xml" title="Our RSS feed" target="_blank" rel="noopener">RSS</a></li></ul></footer></div><script src="https://flexmeasures.io/assets/js/jquery.min.js?v=220afd743d9e9643852e31a135a9f3ae"></script><script src="https://flexmeasures.io/assets/js/jquery.scrollex.min.js?v=f89065e3d988006af9791b44561d7c90"></script><script src="https://flexmeasures.io/assets/js/jquery.scrolly.min.js?v=1ed5a78bde1476875a40f6b9ff44fc14"></script><script src="https://flexmeasures.io/assets/js/browser.min.js?v=c07298dd19048a8a69ad97e754dfe8d0"></script><script src="https://flexmeasures.io/assets/js/breakpoints.min.js?v=81a479eb099e3b187613943b085923b8"></script><script src="https://flexmeasures.io/assets/js/util.min.js?v=4201a626f8c9b614a663b3a1d7d82615"></script><script src="https://flexmeasures.io/assets/js/main.min.js?v=149e72e3ae18744a477b480b19e0c6da"></script><script>/*<![CDATA[*/var images=document.querySelectorAll("img[loading]");for(var i=0;i<images.length;i++){if(images[i].complete){images[i].classList.add("is-loaded")}else{images[i].addEventListener("load",function(){this.classList.add("is-loaded")},false)}};/*]]>*/</script><script type="text/javascript">$('.post__inner:has(.post__iframe)').css('max-width', 'none');</script></body></html>