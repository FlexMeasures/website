<!DOCTYPE html><html lang="en-us"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=no"><title>v0.30: Forecasting revamped - FlexMeasures</title><meta name="description" content="Version v0.30 of FlexMeasures revamps forecasting - in short, we now support fixed- viewpoint forecasting, which is much better suited to real-life usage than the previous implementation, and use more&hellip;"><meta name="generator" content="Publii Open-Source CMS for Static Site"><link rel="canonical" href="https://flexmeasures.io/v030-forecasting-revamped/"><link rel="alternate" type="application/atom+xml" href="https://flexmeasures.io/feed.xml"><link rel="alternate" type="application/json" href="https://flexmeasures.io/feed.json"><meta property="og:title" content="v0.30: Forecasting revamped"><meta property="og:image" content="https://flexmeasures.io/media/posts/54/Forecasting.png"><meta property="og:image:width" content="544"><meta property="og:image:height" content="395"><meta property="og:site_name" content="FlexMeasures"><meta property="og:description" content="Version v0.30 of FlexMeasures revamps forecasting - in short, we now support fixed- viewpoint forecasting, which is much better suited to real-life usage than the previous implementation, and use more&hellip;"><meta property="og:url" content="https://flexmeasures.io/v030-forecasting-revamped/"><meta property="og:type" content="article"><meta name="twitter:card" content="summary"><meta name="twitter:site" content="@seitabv"><meta name="twitter:title" content="v0.30: Forecasting revamped"><meta name="twitter:description" content="Version v0.30 of FlexMeasures revamps forecasting - in short, we now support fixed- viewpoint forecasting, which is much better suited to real-life usage than the previous implementation, and use more&hellip;"><meta name="twitter:image" content="https://flexmeasures.io/media/posts/54/Forecasting.png"><style>:root{--primary-font:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen,Ubuntu,Cantarell,"Fira Sans","Droid Sans","Helvetica Neue",Arial,sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol";--secondary-font:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen,Ubuntu,Cantarell,"Fira Sans","Droid Sans","Helvetica Neue",Arial,sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol"}</style><link rel="stylesheet" href="https://flexmeasures.io/assets/css/fontawesome-all.min.css?v=dbf9d822cefe851ba6f66e1ad57e8987"><link rel="stylesheet" href="https://flexmeasures.io/assets/css/style.css?v=f294491bf2aaace2c249324545609f9e"><noscript><link rel="stylesheet" href="https://flexmeasures.io/assets/css/noscript.css?v=6228c7eee614cd200a2cad8333b439fa"></noscript><script type="application/ld+json">{"@context":"http://schema.org","@type":"Article","mainEntityOfPage":{"@type":"WebPage","@id":"https://flexmeasures.io/v030-forecasting-revamped/"},"headline":"v0.30: Forecasting revamped","datePublished":"2025-11-20T20:35","dateModified":"2025-12-09T14:14","image":{"@type":"ImageObject","url":"https://flexmeasures.io/media/posts/54/Forecasting.png","height":395,"width":544},"description":"Version v0.30 of FlexMeasures revamps forecasting - in short, we now support fixed- viewpoint forecasting, which is much better suited to real-life usage than the previous implementation, and use more&hellip;","author":{"@type":"Person","name":"SeitaBV","url":"https://flexmeasures.io/authors/seitabv/"},"publisher":{"@type":"Organization","name":"SeitaBV"}}</script><style>#wrapper > .bg {
               background-image: url(https://flexmeasures.io/assets/images/overlay.png), linear-gradient(0deg, rgba(0, 0, 0, 0.1), rgba(0, 0, 0, 0.1)), url(https://flexmeasures.io/media/website/karsten-wurth-tzkyLKPvL4-unsplash-2.jpg);
           }</style><script>var _paq = window._paq = window._paq || [];
  /* tracker methods like "setCustomDimension" should be called before "trackPageView" */
  _paq.push(['trackPageView']);
  _paq.push(['enableLinkTracking']);
  (function() {
    var u="//matomo.seita.nl/";
    _paq.push(['setTrackerUrl', u+'matomo.php']);
    _paq.push(['setSiteId', '3']);
    var d=document, g=d.createElement('script'), s=d.getElementsByTagName('script')[0];
    g.async=true; g.src=u+'matomo.js'; s.parentNode.insertBefore(g,s);
  })();</script></head><body class="is-preload"><div class="github-ribbon"><a target="_blank" href="https://github.com/FlexMeasures/flexmeasures/">View code on Github</a></div><div id="wrapper"><header id="header"><a class="logo" href="https://flexmeasures.io/">FlexMeasures</a></header><nav id="nav"><ul class="links"><li class="has-submenu"><a href="https://flexmeasures.io/" target="_self" aria-haspopup="true">Why?</a><ul class="nav__submenu level-2" aria-hidden="true"><li><a href="https://flexmeasures.io/plugins/" target="_self">Plugins</a></li><li><a href="https://flexmeasures.io/use-cases/" target="_self">Use cases</a></li><li><a href="https://flexmeasures.io/features-2/" target="_self">Features</a></li><li><a href="https://flexmeasures.io/why-is-the-code-of-flexmeasures-open-for-everyone/" target="_self">Open source</a></li></ul></li><li><a href="https://flexmeasures.io/documentation/" target="_self">Docs</a></li><li><a href="https://flexmeasures.io/tags/blogpost/" target="_self">Blog</a></li><li><a href="https://flexmeasures.io/plugins/" target="_self">Plugins</a></li><li><a href="https://flexmeasures.io/roadmap/" target="_self">Roadmap</a></li><li><a href="https://flexmeasures.io/faq/" target="_self">FAQ</a></li><li><a href="https://flexmeasures.io/get-in-touch/" target="_self">Contact</a></li></ul></nav><main id="main"><article class="post"><header class="major"><time datetime="2025-11-20T20:35" class="date">20 Nov 2025</time><h1>v0.30: Forecasting revamped</h1><p class="post__inner"></p></header><figure class="image main"><img src="https://flexmeasures.io/media/posts/54/Forecasting.png" srcset="https://flexmeasures.io/media/posts/54/responsive/Forecasting-xs.png 300w, https://flexmeasures.io/media/posts/54/responsive/Forecasting-sm.png 480w, https://flexmeasures.io/media/posts/54/responsive/Forecasting-md.png 768w, https://flexmeasures.io/media/posts/54/responsive/Forecasting-lg.png 1024w, https://flexmeasures.io/media/posts/54/responsive/Forecasting-xl.png 1360w" sizes="(max-width: 1360px) 100vw, 1360px" loading="lazy" height="395" width="544" alt="Forecasting in the FlexMeasures UI"><figcaption>Forecasting in the FlexMeasures UI</figcaption></figure><div class="post__inner post__entry"><div class="post__inner post__entry"><p>Version v0.30 of FlexMeasures revamps forecasting - in short, we now support fixed- viewpoint forecasting, which is much better suited to real-life usage than the previous implementation, and use more modern tooling.</p><p>Three other notable features:</p><ul><li>Expose prior commitments as part of the flex-model (and costs for schedules deviating from them) ― a powerful modeling feature</li><li>Two big improvements in documentation: Flex-config fields and a new tutorial</li><li>Consultants can now see client assets on dashboard ― supporting these kind of users is good for a scaled, multi-tenant platform.</li></ul><p>Plus, as always, a lot of small tweaks have happened! <a href="https://flexmeasures.readthedocs.io/latest/changelog.html#v0-30-0-december-02-2025" target="_blank" rel="noopener noreferrer">See the changelog</a> for a complete list of improvements.</p></div><h2>Fixed view-point forecasting</h2><p>Forecasting is crucial to FlexMeasures' main purpose (which is scheduling). We need to have an idea about energy consumption in the near future, so we can plan it.</p><p>There was a way for doing that in FlexMeasures, but we rewrote that completely.</p><p>The biggest change is that we went from rolling-viewpoint forecasting to fixed-viewpoint forecasting.</p><p>Before, when we made forecasts for some time range (e.g. covering 24 hours), each prediction covered the same relative forecast horizon. So, let's say we made 24 forecasts, and each one had a six-hour horizon - basically this represents a simulation of moving an hour at a time and making one forecast each time, for six hours ahead.</p><p>More realistic for simulations, but also much more usable in real-time scenarios, is to make multiple forecasts each time. So, for one fixed view point (e.g. now), we make several forecasts, maybe even 24, covering each hour of the time period. We'd overwrite each existing forecasts with the most recent (and most likely more accurate forecast).</p><p>Weather forecasts services are already delivered like that - you ask their API for a forecast, and you get 24 hourly forecasts― the best for each hour that are known right now. The forecast for one hour from now will be highly accurate, and the one for 22 hours from now less so. Forecasts always get much more accurate the smaller the forecasting horizon becomes. However, having a forecast with a 22-hour horizon is nice to have for a planning platform like FlexMeasures, much better than having none.</p><p>We also improved on periodic re-training, so even in larger forecasting jobs, covering longer time windows, we can keep accuracy high.</p><p>Also, the forecasts work out-of-the box as historic forecasts (with some in-built support for columns like time of day or day of the week and year), but we made it straightforward to add more regressors - basically sensors where valuable information is stored (like forecasted outdoor temperatures).</p><p>Finally, we updated which underlying models are used. We use an <a href="https://en.wikipedia.org/wiki/LightGBM" target="_blank" rel="noopener noreferrer">LGBM</a> model via <a href="https://unit8co.github.io/darts/" target="_blank" rel="noopener noreferrer">Darts</a>, but it is also easy to use others.</p><p>The new forecasting is now available as CLI command (<code>flexmeasures add forecasts</code>), but we are also building an API endpoint for triggering forecasts.</p><p>Read <a href="https://flexmeasures.readthedocs.io/latest/features/forecasting.html" target="_blank" rel="noopener noreferrer">more in the docs</a>. This work was done in Pull Request <a href="https://github.com/FlexMeasures/flexmeasures/pull/1546" target="_blank" rel="noopener noreferrer">1546</a> (the lower PR ID tells you this has been long cooking), and more are following. </p><h2>Commitments</h2><p>The flex-context in FlexMeasures can include prior commitments. One example of a prior commitment might be how a large consumer buys a profile on the day-ahead market and wants FlexMeasures to compute schedules that stay close to that profile (to avoid imbalance prices).</p><p>Each commitment has a baseline value (which can also be a sensor, i.e. a profile), and can have prices for deviating up- or downwards (which are applied inside the optimization problem to steer the schedule).</p><p>Here is an example to see how it looks like with one commitment:</p><pre class="notranslate"><code class="notranslate">{
  "flex_context":<br>  {<br>    "commitments":<br>    [<br>      {<br>        "baseline": "400 kW",<br>        "up-price": "304 EUR/MWh",<br>        "down-price": "530 EUR/MWh",<br>      }<br>    ]<br>  }
}</code></pre><p>So this says we committed to using 400 kW consistently (this could also be a time series, like a sensor or time blocks). And deviating from that has certain costs for the scheduler to take into consideration.</p><p>Actually, prior commitments have been part of the scheduler for some time, and we use them as a generic way to encode capacity limits as soft constraints. Soft constraints do not break the scheduler if they are breached, which returns a zero-schedule (which happens with hard constraints). Also, this allows us to stack several such commitments or constraints into one problem in a generic way.</p><p>So until now commitments basically were some "magic", happening when a user selected a few certain flex-context fields. Now they are also usable for anything one might build.</p><p>Other ideas:</p><ul><li>PPAs (baseline is the agreed consumption or production, prices denote prices if it is not met)</li><li>modeling savings in gas usage (baseline is 0, meaning gas is used to satisfy all heat demand - every deviation is a good thing, as electricity replaced some heat. Upward price models the actual price of gas)  </li><li>Nudging to lower CO₂ intensity (the main objective might remain to optimize electricity prices, but a commitment can model a penalty on CO₂ - either CO₂ taxes explicitly, or an internal weight)</li></ul><p>We still have to support them in the UI, but the principle is there, and can be quite powerful. This work was done in Pull Request <a href="https://github.com/FlexMeasures/flexmeasures/pull/1754" target="_blank" rel="noopener noreferrer">1754</a> and <a href="https://github.com/FlexMeasures/flexmeasures/pull/1793" target="_blank" rel="noopener noreferrer">1793</a>.  </p><h2>Documentation</h2><p>We take documentation seriously, as the key ingredient to building an eco-system around a project. </p><p>We spent considerable effort in improving this, again.</p><p>First, the flex configuration is the key ingredient to building many distinct smart energy services using FlexMeasures. We improved the documentation of each field in flex-context and flex-model, and we made sure this is replicated in 3 places: ReadTheDocs, SwaggerDocs and the UI dialogues where you can set fields.</p><p>Now there is unprecented wealth of customization knowledge at your fingertips. the picture below from SwaggerDocs, I only opened the schema information about the consumption price setting in the flex-context (available in the docs of the schedule-triggering API endpoint):</p><figure class="post__image post__image--center"><img loading="lazy" src="https://flexmeasures.io/media/posts/54/Screenshot-from-2025-11-30-17-03-32.png" alt="" width="750" height="513" sizes="(max-width: 48em) 100vw, 768px" srcset="https://flexmeasures.io/media/posts/54/responsive/Screenshot-from-2025-11-30-17-03-32-xs.png 300w, https://flexmeasures.io/media/posts/54/responsive/Screenshot-from-2025-11-30-17-03-32-sm.png 480w, https://flexmeasures.io/media/posts/54/responsive/Screenshot-from-2025-11-30-17-03-32-md.png 768w, https://flexmeasures.io/media/posts/54/responsive/Screenshot-from-2025-11-30-17-03-32-lg.png 1024w, https://flexmeasures.io/media/posts/54/responsive/Screenshot-from-2025-11-30-17-03-32-xl.png 1360w, https://flexmeasures.io/media/posts/54/responsive/Screenshot-from-2025-11-30-17-03-32-2xl.png 1600w"></figure><p>Second, we added <a href="https://flexmeasures.readthedocs.io/latest/tut/toy-example-multiasset-curtailment.html" target="_blank" rel="noopener noreferrer">a new tutorial</a>: "PV curtailment and Multi-asset scheduling". It explains how to add a new type of flexible asset (curtailable PV), in combination with a battery, as well.</p><p>Here is one of the graphs, as shown in the CLI:</p><figure class="post__image"><img loading="lazy" src="https://flexmeasures.io/media/posts/54/Screenshot-from-2025-11-30-18-44-22.png" alt="A plot of PV power (uncurtailed) and battery power" width="751" height="463" sizes="(max-width: 48em) 100vw, 768px" srcset="https://flexmeasures.io/media/posts/54/responsive/Screenshot-from-2025-11-30-18-44-22-xs.png 300w, https://flexmeasures.io/media/posts/54/responsive/Screenshot-from-2025-11-30-18-44-22-sm.png 480w, https://flexmeasures.io/media/posts/54/responsive/Screenshot-from-2025-11-30-18-44-22-md.png 768w, https://flexmeasures.io/media/posts/54/responsive/Screenshot-from-2025-11-30-18-44-22-lg.png 1024w, https://flexmeasures.io/media/posts/54/responsive/Screenshot-from-2025-11-30-18-44-22-xl.png 1360w, https://flexmeasures.io/media/posts/54/responsive/Screenshot-from-2025-11-30-18-44-22-2xl.png 1600w"></figure><h2>Improved dashboard for consultants and clients</h2><p>We made the dashboard more useful for users who have access to several accounts. This is true for admins but also consultants. Admins saw a list of all possible accounts, consultants saw only their own assets.</p><ul><li>Consultants see their client accounts below the map, and the assets can be filtered by those.</li><li>Admins see only accounts that are not "end-nodes", i.e. clients - only consultants.</li></ul><figure class="post__image post__image--center"><img loading="lazy" src="https://flexmeasures.io/media/posts/54/consultants-dashboard.png" alt="Better consultant for consultants and admins" width="750" height="292" sizes="(max-width: 48em) 100vw, 768px" srcset="https://flexmeasures.io/media/posts/54/responsive/consultants-dashboard-xs.png 300w, https://flexmeasures.io/media/posts/54/responsive/consultants-dashboard-sm.png 480w, https://flexmeasures.io/media/posts/54/responsive/consultants-dashboard-md.png 768w, https://flexmeasures.io/media/posts/54/responsive/consultants-dashboard-lg.png 1024w, https://flexmeasures.io/media/posts/54/responsive/consultants-dashboard-xl.png 1360w, https://flexmeasures.io/media/posts/54/responsive/consultants-dashboard-2xl.png 1600w"></figure><p>This work was done in Pull Request <a href="https://github.com/FlexMeasures/flexmeasures/pull/1763" target="_blank" rel="noopener noreferrer">1763</a>.</p><p> </p></div></article></main><footer id="copyright"><ul><li>© Massively</li><li>Design: <a href="https://html5up.net" target="_blank" rel="nofollow noopener">HTML5 UP</a></li><li>Powered by <a href="https://getpublii.com" target="_blank" rel="nofollow noopener">Publii</a></li><li>Follow updates by <a href="https://flexmeasures.io/feed.xml" title="Our RSS feed" target="_blank" rel="noopener">RSS</a></li></ul></footer></div><script src="https://flexmeasures.io/assets/js/jquery.min.js?v=220afd743d9e9643852e31a135a9f3ae"></script><script src="https://flexmeasures.io/assets/js/jquery.scrollex.min.js?v=f89065e3d988006af9791b44561d7c90"></script><script src="https://flexmeasures.io/assets/js/jquery.scrolly.min.js?v=1ed5a78bde1476875a40f6b9ff44fc14"></script><script src="https://flexmeasures.io/assets/js/browser.min.js?v=c07298dd19048a8a69ad97e754dfe8d0"></script><script src="https://flexmeasures.io/assets/js/breakpoints.min.js?v=81a479eb099e3b187613943b085923b8"></script><script src="https://flexmeasures.io/assets/js/util.min.js?v=4201a626f8c9b614a663b3a1d7d82615"></script><script src="https://flexmeasures.io/assets/js/main.min.js?v=149e72e3ae18744a477b480b19e0c6da"></script><script>/*<![CDATA[*/var images=document.querySelectorAll("img[loading]");for(var i=0;i<images.length;i++){if(images[i].complete){images[i].classList.add("is-loaded")}else{images[i].addEventListener("load",function(){this.classList.add("is-loaded")},false)}};/*]]>*/</script><script type="text/javascript">$('.post__inner:has(.post__iframe)').css('max-width', 'none');</script></body></html>